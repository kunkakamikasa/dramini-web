"use strict";(()=>{var e={};e.id=744,e.ids=[744],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6833:(e,r,o)=>{o.r(r),o.d(r,{originalPathname:()=>f,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var t={};o.r(t),o.d(t,{GET:()=>l,dynamic:()=>u});var s=o(9303),n=o(8716),a=o(670),i=o(7070);let u="force-dynamic";async function l(e){try{let{searchParams:r}=new URL(e.url),o=r.get("userId");if(console.log("\uD83D\uDD0D Profile API called with userId:",o),!o)return console.log("❌ Missing userId parameter"),i.NextResponse.json({error:"Missing userId"},{status:400});let t="https://dramini-api.onrender.com/api/v1";console.log("\uD83D\uDD0D Calling backend API:",`${t}/user/profile?userId=${o}`);let s=await fetch(`${t}/user/profile?userId=${o}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},cache:"no-store"});if(!s.ok){let e=await s.json();return console.log("❌ Backend API error:",e),i.NextResponse.json({error:"Failed to get profile from backend",details:e.error||`HTTP ${s.status}`},{status:s.status})}let n=await s.json();return console.log("✅ Backend API response:",n),i.NextResponse.json(n)}catch(e){return console.error("❌ Get profile error:",e),console.error("Error details:",{message:e instanceof Error?e.message:"Unknown error",stack:e instanceof Error?e.stack:void 0,name:e instanceof Error?e.name:void 0}),i.NextResponse.json({error:"Failed to get profile",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/user/profile/route",pathname:"/api/user/profile",filename:"route",bundlePath:"app/api/user/profile/route"},resolvedPagePath:"/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/api/user/profile/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:m}=p,f="/api/user/profile/route";function g(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[276,972],()=>o(6833));module.exports=t})();