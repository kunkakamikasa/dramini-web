"use strict";(()=>{var e={};e.id=751,e.ids=[751],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},856:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>m});var a={};t.r(a),t.d(a,{GET:()=>c,dynamic:()=>p});var o=t(9303),n=t(8716),s=t(670),i=t(7070);let p="force-dynamic";async function c(e,{params:r}){try{let t=r.params[0];if(!t||!["ga4","plausible"].includes(t))return i.NextResponse.json({error:"Invalid provider",message:'Provider must be either "ga4" or "plausible"'},{status:400});let{searchParams:a}=new URL(e.url),o=a.get("startDate"),n=a.get("endDate");if(!o||!n){let e=new Date,r=new Date(e.getTime()-6048e5);a.set("startDate",r.toISOString()),a.set("endDate",e.toISOString())}let s=await fetch(`https://dramini-api.onrender.com/api/v1/analytics/compare/${t}?${a.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!s.ok)throw Error(`Backend API error: ${s.status}`);let p=await s.json();return i.NextResponse.json(p)}catch(e){return console.error("Analytics compare API error:",e),i.NextResponse.json({error:"Failed to fetch comparison data",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let u=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/analytics/compare/[...params]/route",pathname:"/api/analytics/compare/[...params]",filename:"route",bundlePath:"app/api/analytics/compare/[...params]/route"},resolvedPagePath:"/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/api/analytics/compare/[...params]/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:d}=u,g="/api/analytics/compare/[...params]/route";function h(){return(0,s.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:m})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[276,972],()=>t(856));module.exports=a})();