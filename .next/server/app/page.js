(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},1400:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),r(908),r(3127),r(5866);var s=r(3191),i=r(8716),a=r(7922),n=r.n(a),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,908)),"/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3127)),"/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/page.tsx"],m="/page",h={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},79:(e,t,r)=>{Promise.resolve().then(r.bind(r,356)),Promise.resolve().then(r.bind(r,6661)),Promise.resolve().then(r.bind(r,6365))},9283:(e,t,r)=>{Promise.resolve().then(r.bind(r,472))},4885:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},472:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(326),i=r(7577),a=r(434),n=r(9027),o=r(6226);function l(){let[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)(0),[l,c]=(0,i.useState)(!0);if(l)return s.jsx("div",{className:"relative h-[70vh] bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"加载中..."})});if(0===e.length)return s.jsx("div",{className:"relative h-[70vh] bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"暂无轮播图"})});let d=e[r];return(0,s.jsxs)("div",{className:"relative h-[70vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0",children:[s.jsx(o.default,{src:d.backdrop,alt:d.title,fill:!0,className:"object-cover",priority:!0}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center",children:s.jsx("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"max-w-2xl",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:d.title}),d.tagline&&s.jsx("p",{className:"text-lg md:text-xl text-gray-200 mb-8",children:d.tagline}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:(0,s.jsxs)(a.default,{href:`/drama/${d.slug}`,onClick:()=>{console.log("Play button clicked")},className:"inline-flex items-center justify-center px-8 py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors duration-200",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M8 5v10l8-5-8-5z"})}),"立即观看"]})})]})})}),e.length>1&&s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2",children:e.map((e,t)=>s.jsx("button",{onClick:()=>n(t),className:`w-3 h-3 rounded-full transition-colors duration-200 ${t===r?"bg-white":"bg-white bg-opacity-50"}`},t))})]})}var c=r(772),d=r(6557);let m=(0,d.Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),h=(0,d.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),u=(0,d.Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),x=(0,d.Z)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);function f(){let e=new Date().getFullYear();return s.jsx("footer",{className:"bg-card border-t border-border",children:(0,s.jsxs)("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-1",children:[s.jsx(a.default,{href:"/",className:"text-2xl font-bold text-primary mb-4 block",children:"Dramini"}),s.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Every second is drama. Discover bite-size vertical short dramas that will keep you hooked."}),s.jsx("div",{className:"flex space-x-2",children:[{name:"Facebook",icon:m,href:"#"},{name:"Twitter",icon:h,href:"#"},{name:"Instagram",icon:u,href:"#"},{name:"YouTube",icon:x,href:"#"}].map(e=>{let t=e.icon;return s.jsx(c.z,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:s.jsx(a.default,{href:e.href,"aria-label":e.name,children:s.jsx(t,{className:"h-4 w-4"})})},e.name)})})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Content"}),s.jsx("ul",{className:"space-y-2",children:[{name:"Browse",href:"/browse"},{name:"Top Charts",href:"/top"},{name:"Categories",href:"/categories"}].map(e=>s.jsx("li",{children:s.jsx(a.default,{href:e.href,className:"text-muted-foreground hover:text-primary transition-colors text-sm",children:e.name})},e.name))})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),s.jsx("ul",{className:"space-y-2",children:[{name:"Help Center",href:"/help"},{name:"Contact Us",href:"/contact"},{name:"Bug Reports",href:"/bugs"}].map(e=>s.jsx("li",{children:s.jsx(a.default,{href:e.href,className:"text-muted-foreground hover:text-primary transition-colors text-sm",children:e.name})},e.name))})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Legal"}),s.jsx("ul",{className:"space-y-2",children:[{name:"Terms of Service",href:"/terms"},{name:"Privacy Policy",href:"/privacy"},{name:"Cookie Policy",href:"/cookies"}].map(e=>s.jsx("li",{children:s.jsx(a.default,{href:e.href,className:"text-muted-foreground hover:text-primary transition-colors text-sm",children:e.name})},e.name))})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Company"}),s.jsx("ul",{className:"space-y-2",children:[{name:"About Us",href:"/about"},{name:"Careers",href:"/careers"},{name:"Press",href:"/press"}].map(e=>s.jsx("li",{children:s.jsx(a.default,{href:e.href,className:"text-muted-foreground hover:text-primary transition-colors text-sm",children:e.name})},e.name))})]})]}),s.jsx("div",{className:"border-t border-border mt-8 pt-8",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,s.jsxs)("p",{className:"text-muted-foreground text-sm",children:["\xa9 ",e," Dramini. All rights reserved."]}),s.jsx("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:s.jsx("span",{className:"text-muted-foreground text-sm",children:"Made with ❤️ for drama lovers"})})]})})]})})}var p=r(4005);function g(){let[e,t]=(0,i.useState)({trending:[],newReleases:[],categories:[]}),[r,o]=(0,i.useState)(!0),[c,d]=(0,i.useState)(null);return((0,p.j)("ShortDramini - 首页"),r)?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"加载中..."})}):c?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-white text-xl",children:[(0,s.jsxs)("div",{children:["错误: ",c]}),(0,s.jsxs)("div",{className:"text-sm mt-2",children:["API Base URL: ","https://dramini-api.onrender.com/api/v1"]})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[s.jsx(n.h,{}),s.jsx(l,{}),(0,s.jsxs)("div",{className:"px-8 py-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"热门内容"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.trending.map(e=>s.jsx(a.default,{href:`/drama/${e.slug}`,children:(0,s.jsxs)("div",{className:"relative group cursor-pointer",children:[s.jsx("img",{src:e.poster,alt:e.title,className:"w-full h-64 object-cover rounded-lg transition-transform group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity font-semibold",children:e.title})})]})},e.id))})]}),(0,s.jsxs)("div",{className:"px-8 py-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"分类浏览"}),e.categories.map(e=>(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:e.name}),s.jsx(a.default,{href:`/browse?category=${e.slug}`,className:"text-red-400 hover:text-red-300 transition-colors",children:"查看全部"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.movies.map((t,r)=>s.jsx(a.default,{href:`/drama/${t.slug}`,children:(0,s.jsxs)("div",{className:"relative group cursor-pointer",children:[s.jsx("img",{src:t.poster,alt:t.title,className:"w-full h-64 object-cover rounded-lg transition-transform group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity font-semibold",children:t.title})})]})},`${e.id}-${t.id}-${r}`))})]},e.id))]}),s.jsx(f,{})]})}},356:(e,t,r)=>{"use strict";function s(){return null}r.d(t,{AnalyticsInit:()=>s}),r(7577),r(4348)},6661:(e,t,r)=>{"use strict";r.d(t,{AnalyticsProvider:()=>i});var s=r(326);function i({children:e}){return s.jsx(s.Fragment,{children:e})}r(7577),r(4348)},6365:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>a});var s=r(326),i=r(381);function a(){return s.jsx(i.x7,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #374151",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},success:{iconTheme:{primary:"#10b981",secondary:"#f9fafb"},style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #10b981"}},error:{iconTheme:{primary:"#ef4444",secondary:"#f9fafb"},style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #ef4444"}},loading:{iconTheme:{primary:"#3b82f6",secondary:"#f9fafb"},style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #3b82f6"}}}})}},772:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var s=r(326),i=r(7577),a=r(6438),n=r(9360),o=r(7863);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...n},c)=>{let d=i?a.g7:"button";return s.jsx(d,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:c,...n})});c.displayName="Button"},4348:(e,t,r)=>{"use strict";r.d(t,{IH:()=>n,co:()=>o});var s=r(3143);class i{initAnalytics(e){try{this.initSession(),this.loadUser(),this.apiBase=e.endpoint||"/api/v1/analytics",console.log("Analytics initialized successfully")}catch(e){console.error("Analytics initialization failed:",e)}}initSession(){}loadUser(){}sendEvent(e){this.eventQueue.push(e),this.eventQueue.length>=5&&this.flushEvents()}flushEvents(){if(0===this.eventQueue.length)return;let e=[...this.eventQueue];this.eventQueue=[];let t=JSON.stringify({events:e});fetch(this.apiBase+"/track",{method:"POST",headers:{"Content-Type":"application/json","x-analytics-key":"dramini2025"},body:t,keepalive:!0}).catch(e=>{console.warn("Analytics flush failed:",e)})}trackEvent(e,t){let r={event_id:(0,s.Z)(),event_name:e,visitor_id:this.visitorId,session_id:this.sessionId,user_id:this.userId||void 0,props:t||{},created_at:new Date().toISOString()};this.sendEvent(r)}trackLogin(e,t){this.trackEvent("login",{user_id:e,method:t||"email"})}trackRegistration(e,t){this.trackEvent("registration",{user_id:e,method:t||"email"})}trackVideoPlay(e,t,r){this.trackEvent("video_play",{content_id:e,content_type:t,duration:r||0})}trackPurchase(e,t,r,s){this.trackEvent("purchase",{order_id:e,amount:t,currency:r,method:s||"unknown"})}trackSearch(e,t){this.trackEvent("search",{query:e,results_count:t||0})}trackShare(e,t,r){this.trackEvent("share",{content_id:e,content_type:t,platform:r||"unknown"})}setUserId(e){this.userId=e}handleVisibilityChange(){this.flushEvents()}handleBeforeUnload(){this.flushEvents()}getVisitorId(){return this.visitorId}getSessionId(){return this.sessionId}constructor(){this.visitorId=null,this.sessionId=null,this.userId=null,this.apiBase="",this.eventQueue=[]}}let a=null;function n(){return a}let o={initAnalytics:e=>{(a=new i).initAnalytics(e)},trackEvent:(e,t)=>{let r=a;r&&r.trackEvent(e,t)},trackLogin:(e,t)=>{let r=a;r&&r.trackLogin(e,t)},trackRegistration:(e,t)=>{let r=a;r&&r.trackRegistration(e,t)},trackVideoPlay:(e,t,r)=>{let s=a;s&&s.trackVideoPlay(e,t,r)},trackPurchase:(e,t,r,s)=>{let i=a;i&&i.trackPurchase(e,t,r,s)},trackSearch:(e,t)=>{let r=a;r&&r.trackSearch(e,t)},trackShare:(e,t,r)=>{let s=a;s&&s.trackShare(e,t,r)},getVisitorId:()=>{let e=a;return e?e.getVisitorId():null},getSessionId:()=>{let e=a;return e?e.getSessionId():null},setUserId:e=>{let t=a;t&&t.setUserId(e)}}},7863:(e,t,r)=>{"use strict";r.d(t,{T4:()=>n,cn:()=>a});var s=r(1135),i=r(1009);function a(...e){return(0,i.m6)((0,s.W)(e))}function n(e){return`$${(e/100).toFixed(2)}`}},6226:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var s=r(9029),i=r.n(s)},9029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let s=r(1174),i=r(3078),a=r(2481),n=s._(r(6820));function o(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=a.Image},3127:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>l});var s=r(9510);r(7272);var i=r(8570);let a=(0,i.createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/Dramini/components/toast-provider.tsx#ToastProvider`),n=(0,i.createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/Dramini/components/AnalyticsProvider.tsx#AnalyticsProvider`);(0,i.createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/Dramini/components/AnalyticsProvider.tsx#useAnalyticsInit`);let o=(0,i.createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/Dramini/components/AnalyticsInit.tsx#AnalyticsInit`),l={title:"Dramini",description:"Your streaming platform"};function c({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:"font-sans",children:(0,s.jsxs)(n,{children:[s.jsx(o,{}),e,s.jsx(a,{})]})})})}},908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,103,427,404,481,423],()=>r(1400));module.exports=s})();