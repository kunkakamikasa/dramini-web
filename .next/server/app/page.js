(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1400:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o}),s(908),s(1506),s(5866);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),l=s(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,908)),"/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/page.tsx"],m="/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8806:()=>{},9283:(e,t,s)=>{Promise.resolve().then(s.bind(s,5098))},4885:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5098:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var r=s(326),a=s(7577),i=s(434),n=s(5047),l=s(772),c=s(8307),o=s(6557);let d=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),m=(0,o.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var x=s(4019);let h=(0,o.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var u=s(7863),f=s(4348);function p(){let[e,t]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[v,j]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),N=(0,n.usePathname)(),w=e=>{f.co.pageView(`/${e.toLowerCase().replace(" ","-")}`),o(!1)};return b?r.jsx("header",{className:(0,u.cn)("fixed top-0 left-0 right-0 z-50 transition-all duration-300",e?"py-2 bg-black/50 backdrop-blur-md border-b border-border":"py-4 bg-transparent"),children:r.jsx("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-8",children:[r.jsx(i.default,{href:"/",className:"text-2xl font-bold text-primary hover:text-primary/80 transition-colors",onClick:()=>f.co.pageView("/"),children:"Dramini"}),r.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:[{name:"Browse",href:"/browse"},{name:"Top Charts",href:"/top"},{name:"Categories",href:"/categories"}].map(e=>r.jsx(i.default,{href:e.href,className:(0,u.cn)("text-sm font-medium transition-colors hover:text-foreground/80",N===e.href?"text-foreground":"text-foreground/60"),onClick:()=>w(e.name),children:e.name},e.name))})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[r.jsx(l.z,{variant:"ghost",size:"icon",children:r.jsx(c.Z,{className:"h-5 w-5"})}),v?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:[v.coins||0," \uD83E\uDE99"]}),(0,r.jsxs)(l.z,{variant:"ghost",className:"flex items-center gap-2",onClick:()=>g(!p),children:[r.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-bold",children:v.name?.charAt(0).toUpperCase()||"U"})}),r.jsx("span",{className:"text-white",children:v.name||"User"})]})]}),p&&r.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-gray-900 border border-gray-700 rounded-md shadow-lg z-50",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsxs)(i.default,{href:"/account",className:"flex items-center px-4 py-2 text-white hover:bg-gray-800",onClick:()=>g(!1),children:[r.jsx(d,{className:"w-4 h-4 mr-2"}),"My Account"]}),r.jsx(i.default,{href:"/coins",className:"flex items-center px-4 py-2 text-white hover:bg-gray-800",onClick:()=>g(!1),children:"\uD83E\uDE99 Buy Coins"}),r.jsx("hr",{className:"border-gray-700 my-1"}),(0,r.jsxs)("button",{className:"flex items-center w-full px-4 py-2 text-red-400 hover:bg-gray-800",onClick:()=>{j(null),g(!1)},children:[r.jsx(m,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.default,{href:"/auth/signin",children:r.jsx(l.z,{variant:"ghost",children:"Sign In"})}),r.jsx(i.default,{href:"/auth/signup",children:r.jsx(l.z,{className:"bg-primary hover:bg-primary/90",children:"Sign Up"})})]})]}),r.jsx(l.z,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>o(!s),children:s?r.jsx(x.Z,{className:"h-6 w-6"}):r.jsx(h,{className:"h-6 w-6"})})]})})}):r.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 py-4 bg-transparent",children:r.jsx("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[r.jsx(i.default,{href:"/",className:"text-2xl font-bold text-primary",children:"Dramini"}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[r.jsx(l.z,{variant:"ghost",children:"Sign In"}),r.jsx(l.z,{className:"bg-primary hover:bg-primary/90",children:"Sign Up"})]})]})})})}var g=s(6226);function v(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(0),[l,c]=(0,a.useState)(!0);if(l)return r.jsx("div",{className:"relative h-[70vh] bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"text-white text-xl",children:"加载中..."})});if(0===e.length)return r.jsx("div",{className:"relative h-[70vh] bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"text-white text-xl",children:"暂无轮播图"})});let o=e[s];return(0,r.jsxs)("div",{className:"relative h-[70vh] overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0",children:[r.jsx(g.default,{src:o.backdrop,alt:o.title,fill:!0,className:"object-cover",priority:!0}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})]}),r.jsx("div",{className:"relative z-10 h-full flex items-center",children:r.jsx("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"max-w-2xl",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:o.title}),o.tagline&&r.jsx("p",{className:"text-lg md:text-xl text-gray-200 mb-8",children:o.tagline}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsxs)(i.default,{href:`/drama/${o.slug}`,onClick:()=>{console.log("Play button clicked")},className:"inline-flex items-center justify-center px-8 py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors duration-200",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M8 5v10l8-5-8-5z"})}),"立即观看"]}),(0,r.jsxs)("button",{onClick:()=>{console.log("Watch free button clicked")},className:"inline-flex items-center justify-center px-8 py-3 bg-transparent border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-black transition-colors duration-200",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"免费试看"]})]})]})})}),e.length>1&&r.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2",children:e.map((e,t)=>r.jsx("button",{onClick:()=>n(t),className:`w-3 h-3 rounded-full transition-colors duration-200 ${t===s?"bg-white":"bg-white bg-opacity-50"}`},t))})]})}let j=(0,o.Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),b=(0,o.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),y=(0,o.Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),N=(0,o.Z)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);function w(){let e=new Date().getFullYear();return r.jsx("footer",{className:"bg-card border-t border-border",children:(0,r.jsxs)("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-1",children:[r.jsx(i.default,{href:"/",className:"text-2xl font-bold text-primary mb-4 block",children:"Dramini"}),r.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Every second is drama. Discover bite-size vertical short dramas that will keep you hooked."}),r.jsx("div",{className:"flex space-x-2",children:[{name:"Facebook",icon:j,href:"#"},{name:"Twitter",icon:b,href:"#"},{name:"Instagram",icon:y,href:"#"},{name:"YouTube",icon:N,href:"#"}].map(e=>{let t=e.icon;return r.jsx(l.z,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:r.jsx(i.default,{href:e.href,"aria-label":e.name,children:r.jsx(t,{className:"h-4 w-4"})})},e.name)})})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Content"}),r.jsx("ul",{className:"space-y-2",children:[{name:"Browse",href:"/browse"},{name:"Top Charts",href:"/top"},{name:"Categories",href:"/categories"}].map(e=>r.jsx("li",{children:r.jsx(i.default,{href:e.href,className:"text-muted-foreground hover:text-primary transition-colors text-sm",children:e.name})},e.name))})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),r.jsx("ul",{className:"space-y-2",children:[{name:"Help Center",href:"/help"},{name:"Contact Us",href:"/contact"},{name:"Bug Reports",href:"/bugs"}].map(e=>r.jsx("li",{children:r.jsx(i.default,{href:e.href,className:"text-muted-foreground hover:text-primary transition-colors text-sm",children:e.name})},e.name))})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Legal"}),r.jsx("ul",{className:"space-y-2",children:[{name:"Terms of Service",href:"/terms"},{name:"Privacy Policy",href:"/privacy"},{name:"Cookie Policy",href:"/cookies"}].map(e=>r.jsx("li",{children:r.jsx(i.default,{href:e.href,className:"text-muted-foreground hover:text-primary transition-colors text-sm",children:e.name})},e.name))})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Company"}),r.jsx("ul",{className:"space-y-2",children:[{name:"About Us",href:"/about"},{name:"Careers",href:"/careers"},{name:"Press",href:"/press"}].map(e=>r.jsx("li",{children:r.jsx(i.default,{href:e.href,className:"text-muted-foreground hover:text-primary transition-colors text-sm",children:e.name})},e.name))})]})]}),r.jsx("div",{className:"border-t border-border mt-8 pt-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,r.jsxs)("p",{className:"text-muted-foreground text-sm",children:["\xa9 ",e," Dramini. All rights reserved."]}),r.jsx("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:r.jsx("span",{className:"text-muted-foreground text-sm",children:"Made with ❤️ for drama lovers"})})]})})]})})}function k(){let[e,t]=(0,a.useState)({trending:[],newReleases:[],categories:[]}),[s,n]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null);return s?r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"text-white text-xl",children:"加载中..."})}):l?r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-white text-xl",children:[(0,r.jsxs)("div",{children:["错误: ",l]}),(0,r.jsxs)("div",{className:"text-sm mt-2",children:["API Base URL: ","https://dramini-api.onrender.com/api/v1"]})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[r.jsx(p,{}),r.jsx(v,{}),(0,r.jsxs)("div",{className:"px-8 py-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"热门内容"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.trending.map(e=>r.jsx(i.default,{href:`/drama/${e.slug}`,children:(0,r.jsxs)("div",{className:"relative group cursor-pointer",children:[r.jsx("img",{src:e.poster,alt:e.title,className:"w-full h-64 object-cover rounded-lg transition-transform group-hover:scale-105"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity font-semibold",children:e.title})})]})},e.id))})]}),(0,r.jsxs)("div",{className:"px-8 py-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"分类浏览"}),e.categories.map(e=>(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:e.name}),r.jsx(i.default,{href:`/browse?category=${e.slug}`,className:"text-red-400 hover:text-red-300 transition-colors",children:"查看全部"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.movies.map((t,s)=>r.jsx(i.default,{href:`/drama/${t.slug}`,children:(0,r.jsxs)("div",{className:"relative group cursor-pointer",children:[r.jsx("img",{src:t.poster,alt:t.title,className:"w-full h-64 object-cover rounded-lg transition-transform group-hover:scale-105"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity font-semibold",children:t.title})})]})},`${e.id}-${t.id}-${s}`))})]},e.id))]}),r.jsx(w,{})]})}},772:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var r=s(326),a=s(7577),i=s(6438),n=s(9360),l=s(7863);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...n},o)=>{let d=a?i.g7:"button";return r.jsx(d,{className:(0,l.cn)(c({variant:t,size:s,className:e})),ref:o,...n})});o.displayName="Button"},4348:(e,t,s)=>{"use strict";s.d(t,{co:()=>r});let r={pageView:function(e,t){},posterClick:function(e,t,s){},posterImpression:function(e,t,s){},categorySelect:function(e){},heroCtaClick:function(e,t){},paywallOpen:function(e,t){},checkoutStart:function(e,t){},checkoutSuccess:function(e,t,s){},checkoutCancel:function(e,t){},error:function(e,t){}}},7863:(e,t,s)=>{"use strict";s.d(t,{T4:()=>n,cn:()=>i});var r=s(1135),a=s(1009);function i(...e){return(0,a.m6)((0,r.W)(e))}function n(e){return`$${(e/100).toFixed(2)}`}},8307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},4019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6226:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(9029),a=s.n(r)},434:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(9404),a=s.n(r)},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},9029:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return c},getImageProps:function(){return l}});let r=s(1174),a=s(3078),i=s(2481),n=r._(s(6820));function l(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let c=i.Image},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>a});var r=s(9510);s(7272);let a={title:"Dramini",description:"Your streaming platform"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"font-sans",children:e})})}},908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/Dramini/app/page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,471,427,404,481],()=>s(1400));module.exports=r})();