"use strict";exports.id=32,exports.ids=[32],exports.modules={9032:(e,t,r)=>{r.d(t,{getPaymentTiers:()=>i,startPayPalCheckout:()=>s,startStripeCheckout:()=>c});var a=r(4348);let o="https://dramini-api.onrender.com/api/v1";async function c(e){try{a.co.trackEvent("checkout_start",{tierKey:e.tierKey});let t=await fetch(`${o}/user/purchase/checkout/stripe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(`Stripe checkout failed: ${t.status} ${t.statusText}`);let r=await t.json();if(r.checkoutUrl)window.location.href=r.checkoutUrl;else throw Error("No checkout URL received from server")}catch(e){throw console.error("Stripe checkout error:",e),a.co.trackEvent("payment_error",{provider:"stripe",error:e instanceof Error?e.message:"Payment failed"}),e}}async function s(e){try{a.co.trackEvent("checkout_start",{tierKey:e.tierKey});let t=await fetch(`${o}/user/purchase/checkout/paypal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(`PayPal checkout failed: ${t.status} ${t.statusText}`);let r=await t.json();if(r.checkoutUrl)r.paypalOrderId&&(localStorage.setItem("paypalOrderId",r.paypalOrderId),localStorage.setItem("paypalOrderData",JSON.stringify(r))),window.location.href=r.checkoutUrl;else throw Error("No checkout URL received from server")}catch(e){throw console.error("PayPal payment error:",e),a.co.trackEvent("payment_error",{provider:"paypal",error:e instanceof Error?e.message:"Payment failed"}),e}}async function i(){try{let e=await fetch(`${o}/payment-packages`);if(!e.ok)throw Error(`Failed to fetch payment packages: ${e.status} ${e.statusText}`);return await e.json()}catch(e){throw console.error("Get payment packages error:",e),e}}}};