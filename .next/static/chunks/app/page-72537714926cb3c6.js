(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9922:function(e,t,s){Promise.resolve().then(s.bind(s,7340))},7340:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(7437),a=s(2265),i=s(7648),n=s(9116);function c(){let[e,t]=(0,a.useState)({trending:[],newReleases:[],categories:[]}),[s,c]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{c(!0);let[e,s,r]=await Promise.all([(0,n.a)("/movies/trending"),(0,n.a)("/movies/new-releases"),(0,n.a)("/categories")]);t({trending:e.ok?e.data:[],newReleases:s.ok?s.data:[],categories:r.ok?r.data:[]})}catch(e){console.error("获取数据失败:",e)}finally{c(!1)}})()},[]),s)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-white text-xl",children:"加载中..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,r.jsxs)("div",{className:"relative h-screen flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black to-transparent z-10"}),(0,r.jsxs)("div",{className:"relative z-20 text-center text-white",children:[(0,r.jsx)("h1",{className:"text-6xl font-bold mb-4",children:"Dramini"}),(0,r.jsx)("p",{className:"text-xl mb-8",children:"发现精彩内容"}),(0,r.jsx)(i.default,{href:"/browse",className:"bg-red-600 hover:bg-red-700 px-8 py-3 rounded-lg text-lg font-semibold transition-colors",children:"开始观看"})]})]}),(0,r.jsxs)("div",{className:"px-8 py-12",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",children:"热门内容"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.trending.map(e=>(0,r.jsx)(i.default,{href:"/movie/".concat(e.slug),children:(0,r.jsxs)("div",{className:"relative group cursor-pointer",children:[(0,r.jsx)("img",{src:e.poster,alt:e.title,className:"w-full h-64 object-cover rounded-lg transition-transform group-hover:scale-105"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity font-semibold",children:e.title})})]})},e.id))})]}),(0,r.jsxs)("div",{className:"px-8 py-12",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",children:"分类浏览"}),e.categories.map(e=>(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white",children:e.name}),(0,r.jsx)(i.default,{href:"/browse?category=".concat(e.slug),className:"text-red-400 hover:text-red-300 transition-colors",children:"查看全部"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.movies.map((t,s)=>(0,r.jsx)(i.default,{href:"/movie/".concat(t.slug),children:(0,r.jsxs)("div",{className:"relative group cursor-pointer",children:[(0,r.jsx)("img",{src:t.poster,alt:t.title,className:"w-full h-64 object-cover rounded-lg transition-transform group-hover:scale-105"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity font-semibold",children:t.title})})]})},"".concat(e.id,"-").concat(t.id,"-").concat(s)))})]},e.id))]})]})}},9116:function(e,t,s){"use strict";async function r(e){try{let t=await fetch("".concat("https://dramini-api.onrender.com/api/v1").concat(e));if(!t.ok)return{ok:!1,data:null,error:"HTTP ".concat(t.status)};let s=await t.json();return{ok:!0,data:s}}catch(e){return{ok:!1,data:null,error:e instanceof Error?e.message:"Unknown error"}}}s.d(t,{a:function(){return r}})},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var r=s(2972),a=s.n(r)}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=9922)}),_N_E=e.O()}]);