(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{7422:function(e,s,l){Promise.resolve().then(l.bind(l,1729))},1729:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return a}});var t=l(7437),n=l(2265);function a(){let[e,s]=(0,n.useState)(null),[l,a]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("userId");s({userId:e,userEmail:localStorage.getItem("userEmail"),userName:localStorage.getItem("userName")}),e&&fetch("/api/user/profile?userId=".concat(encodeURIComponent(e))).then(e=>e.json()).then(e=>{a(e)}).catch(e=>{a({error:e.message})})},[]),(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"\uD83D\uDD0D 调试信息"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"\uD83D\uDCF1 localStorage 数据"}),(0,t.jsx)("pre",{className:"text-sm",children:JSON.stringify(e,null,2)})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"\uD83C\uDF10 API 响应数据"}),(0,t.jsx)("pre",{className:"text-sm",children:JSON.stringify(l,null,2)})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"\uD83D\uDD27 修复建议"}),(0,t.jsxs)("div",{className:"text-sm space-y-2",children:[(null==e?void 0:e.userId)?(0,t.jsx)("p",{className:"text-green-400",children:"✅ localStorage 中有用户ID"}):(0,t.jsx)("p",{className:"text-red-400",children:"❌ localStorage 中没有用户ID"}),(null==l?void 0:l.coins)!==void 0?(0,t.jsxs)("p",{className:"text-green-400",children:["✅ API 返回了金币数据: ",l.coins]}):(0,t.jsx)("p",{className:"text-red-400",children:"❌ API 没有返回金币数据"}),(null==e?void 0:e.userId)&&(null==l?void 0:l.coins)!==void 0?(0,t.jsxs)("p",{className:"text-green-400",children:["✅ 数据流正常，金币应该显示为: ",l.coins]}):(0,t.jsx)("p",{className:"text-yellow-400",children:"⚠️ 需要检查数据流"})]})]})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7422)}),_N_E=e.O()}]);